name: Build and Release for All Platforms

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:
    inputs:
      version:
        description: 'Version tag (e.g., v1.0.1)'
        required: true
        default: 'v1.0.7'

jobs:
  build-windows:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup JDK 21
        uses: actions/setup-java@v4
        with:
          java-version: '21'
          distribution: 'temurin'
          
      - name: Cache Maven dependencies
        uses: actions/cache@v4
        with:
          path: ~/.m2
          key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
          restore-keys: |
            ${{ runner.os }}-m2-
          
      - name: Build JAR
        run: mvn clean package -DskipTests
        
      - name: Build Windows Portable (.exe)
        run: |
          jpackage --input target --dest dist --name "GOVNO-Screamer" --main-jar govnoscreamer-widget-1.0.0.jar --main-class com.dayab.widget.Launcher --type app-image --app-version 1.0.0 --vendor "rawscript" --description "GOVNO/TON Crypto Screamer Widget" --copyright "Â© 2025 rawscript" --java-options "-Dfile.encoding=UTF-8" --java-options "-Djava.awt.headless=false"
          
      - name: Build Windows MSI Installer
        run: |
          jpackage --input target --dest dist --name "GOVNO-Screamer-Installer" --main-jar govnoscreamer-widget-1.0.0.jar --main-class com.dayab.widget.Launcher --type msi --app-version 1.0.0 --vendor "rawscript" --description "GOVNO/TON Crypto Screamer Widget" --copyright "Â© 2025 rawscript" --win-menu --win-shortcut --win-dir-chooser --java-options "-Dfile.encoding=UTF-8" --java-options "-Djava.awt.headless=false"
          
      - name: Create Windows ZIP archive
        run: |
          cd dist
          powershell Compress-Archive -Path "GOVNO-Screamer" -DestinationPath "GOVNO-Screamer-Windows-Portable.zip"
          
      - name: Copy Universal JAR
        run: |
          copy target\govnoscreamer-widget-1.0.0.jar dist\GOVNO-Screamer-Universal.jar
          
      - name: Upload Windows Portable
        uses: actions/upload-artifact@v4
        with:
          name: windows-portable
          path: dist/GOVNO-Screamer-Windows-Portable.zip
          
      - name: Upload Windows MSI
        uses: actions/upload-artifact@v4
        with:
          name: windows-msi
          path: dist/*.msi
          
      - name: Upload Universal JAR
        uses: actions/upload-artifact@v4
        with:
          name: universal-jar
          path: dist/GOVNO-Screamer-Universal.jar

  build-linux:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup JDK 21
        uses: actions/setup-java@v4
        with:
          java-version: '21'
          distribution: 'temurin'
          
      - name: Install dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y fuse desktop-file-utils
          
      - name: Cache Maven dependencies
        uses: actions/cache@v4
        with:
          path: ~/.m2
          key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
          restore-keys: |
            ${{ runner.os }}-m2-
          
      - name: Build JAR
        run: mvn clean package -DskipTests
        
      - name: Build Linux app-image
        run: |
          jpackage --input target --dest dist --name "GOVNO-Screamer" --main-jar govnoscreamer-widget-1.0.0.jar --main-class com.dayab.widget.Launcher --type app-image --app-version 1.0.0 --vendor "rawscript" --description "GOVNO/TON Crypto Screamer Widget" --copyright "Â© 2025 rawscript" --java-options "-Dfile.encoding=UTF-8" --java-options "-Djava.awt.headless=false"
          
      - name: Build Linux deb
        run: |
          jpackage --input target --dest dist --name "GOVNO-Screamer" --main-jar govnoscreamer-widget-1.0.0.jar --main-class com.dayab.widget.Launcher --type deb --app-version 1.0.0 --vendor "rawscript" --description "GOVNO/TON Crypto Screamer Widget" --copyright "Â© 2025 rawscript" --linux-shortcut --linux-menu-group "Office" --linux-package-name govno-screamer --java-options "-Dfile.encoding=UTF-8" --java-options "-Djava.awt.headless=false"
          
      - name: Create Linux Archive
        run: |
          cd dist
          tar -czf GOVNO-Screamer-Linux-x64.tar.gz GOVNO-Screamer/
          
      - name: Download and setup AppImageTool
        run: |
          wget -O appimagetool "https://github.com/AppImage/AppImageKit/releases/download/continuous/appimagetool-x86_64.AppImage"
          chmod +x appimagetool
          
      - name: Create AppImage
        run: |
          # Ð”Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ, ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ð°Ñ jpackage (--type app-image)
          JPACKAGE_APP_DIR="dist/GOVNO-Screamer"

          # ÐÐ°ÑˆÐ° AppDir, ÐºÑƒÐ´Ð° Ð¼Ñ‹ Ð±ÑƒÐ´ÐµÐ¼ ÑÐ¾Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Ð²ÑÐµ Ð´Ð»Ñ appimagetool
          APPIMAGE_DIR="dist/GOVNO-Screamer.AppDir"
          mkdir -p "${APPIMAGE_DIR}"

          # ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð²ÑÐµ Ð¸Ð· jpackage-Ð²Ñ‹Ð²Ð¾Ð´Ð° Ð² ÐºÐ¾Ñ€ÐµÐ½ÑŒ AppDir
          # Ð­Ñ‚Ð¾ ÑÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐµÑ‚ bin/, lib/ Ð¸ Ñ‚.Ð´. Ð²Ð½ÑƒÑ‚Ñ€ÑŒ APPIMAGE_DIR
          cp -a "${JPACKAGE_APP_DIR}/." "${APPIMAGE_DIR}/" 
          
          EXECUTABLE_NAME="GOVNO-Screamer" 
          PRIMARY_EXEC_PATH="bin/${EXECUTABLE_NAME}"   # ÐŸÑ€ÐµÐ´Ð¿Ð¾Ð»Ð°Ð³Ð°ÐµÐ¼Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ jpackage
          FALLBACK_EXEC_PATH="${EXECUTABLE_NAME}" # ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ (ÐµÑÐ»Ð¸ jpackage ÐºÐ»Ð°Ð´ÐµÑ‚ Ð² ÐºÐ¾Ñ€ÐµÐ½ÑŒ)
          
          TARGET_EXECUTABLE_IN_APPDIR=""

          # Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ .desktop Ñ„Ð°Ð¹Ð» Ð² ÐºÐ¾Ñ€Ð½Ðµ AppDir (ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ñ Ð¿ÑƒÑ‚ÐµÐ¼ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ)
          cat > "${APPIMAGE_DIR}/${EXECUTABLE_NAME}.desktop" << EOF
          [Desktop Entry]
          Name=GOVNO Screamer
          Comment=GOVNO/TON Crypto Screamer Widget
          Exec=${PRIMARY_EXEC_PATH} 
          Icon=${EXECUTABLE_NAME}
          Type=Application
          Categories=Office;Finance;
          Terminal=false
          EOF
          chmod +x "${APPIMAGE_DIR}/${EXECUTABLE_NAME}.desktop"

          # ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ñ„Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿ÑƒÑ‚ÑŒ Ðº Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ð¾Ð¼Ñƒ Ñ„Ð°Ð¹Ð»Ñƒ Ð¸ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð°
          if [ -f "${APPIMAGE_DIR}/${PRIMARY_EXEC_PATH}" ]; then
            chmod +x "${APPIMAGE_DIR}/${PRIMARY_EXEC_PATH}"
            TARGET_EXECUTABLE_IN_APPDIR="${PRIMARY_EXEC_PATH}"
            echo "Ð˜ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð½Ð°Ð¹Ð´ÐµÐ½ Ð¿Ð¾ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¼Ñƒ Ð¿ÑƒÑ‚Ð¸: ${TARGET_EXECUTABLE_IN_APPDIR}"
            # .desktop Ñ„Ð°Ð¹Ð» ÑƒÐ¶Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ PRIMARY_EXEC_PATH, Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¼ÐµÐ½ÑÐµÐ¼
          elif [ -f "${APPIMAGE_DIR}/${FALLBACK_EXEC_PATH}" ]; then
            chmod +x "${APPIMAGE_DIR}/${FALLBACK_EXEC_PATH}"
            TARGET_EXECUTABLE_IN_APPDIR="${FALLBACK_EXEC_PATH}"
            echo "Ð˜ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð½Ð°Ð¹Ð´ÐµÐ½ Ð¿Ð¾ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð¼Ñƒ Ð¿ÑƒÑ‚Ð¸: ${TARGET_EXECUTABLE_IN_APPDIR}"
            # ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Exec Ð² .desktop Ñ„Ð°Ð¹Ð»Ðµ
            sed -i "s|^Exec=.*|Exec=${TARGET_EXECUTABLE_IN_APPDIR}|" "${APPIMAGE_DIR}/${EXECUTABLE_NAME}.desktop"
            echo ".desktop Ñ„Ð°Ð¹Ð» Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½ Ð´Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ ${TARGET_EXECUTABLE_IN_APPDIR}"
          else
            echo "ÐžÑˆÐ¸Ð±ÐºÐ°: Ð˜ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ Ð½Ð¸ Ð¿Ð¾ Ð¿ÑƒÑ‚Ð¸ '${APPIMAGE_DIR}/${PRIMARY_EXEC_PATH}', Ð½Ð¸ Ð¿Ð¾ '${APPIMAGE_DIR}/${FALLBACK_EXEC_PATH}'"
            ls -R "${APPIMAGE_DIR}" # Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸
            exit 1
          fi

          # Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ AppRun ÑÐºÑ€Ð¸Ð¿Ñ‚
          echo "Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ AppRun ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‰ÐµÐ³Ð¾ Ð½Ð° ${TARGET_EXECUTABLE_IN_APPDIR}..."
          cat > "${APPIMAGE_DIR}/AppRun" << EOF
#!/bin/sh
HERE=\$(dirname \$(readlink -f "$0"))
exec "\${HERE}/${TARGET_EXECUTABLE_IN_APPDIR}" "$@"
EOF
          chmod +x "${APPIMAGE_DIR}/AppRun"
          echo "AppRun ÑÐºÑ€Ð¸Ð¿Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½ Ð¸ ÑÐ´ÐµÐ»Ð°Ð½ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¼."

          # ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð¸ÐºÐ¾Ð½ÐºÑƒ Ð² ÐºÐ¾Ñ€ÐµÐ½ÑŒ AppDir
          # Ð£Ð±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ Ð¸ÐºÐ¾Ð½ÐºÐ° ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð¿Ð¾ Ð¾Ð´Ð½Ð¾Ð¼Ñƒ Ð¸Ð· ÑÑ‚Ð¸Ñ… Ð¿ÑƒÑ‚ÐµÐ¹ Ð² Ñ‚Ð²Ð¾ÐµÐ¼ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸
          ICON_SOURCE_PATH_PRIMARY="src/main/resources/icons/${EXECUTABLE_NAME}.png" # e.g., GOVNO-Screamer.png
          ICON_SOURCE_PATH_ALTERNATIVE="src/main/resources/icons/app-icon.png"    # Generic name
          ICON_DEST_PATH="${APPIMAGE_DIR}/${EXECUTABLE_NAME}.png"             # e.g., APPIMAGE_DIR/GOVNO-Screamer.png

          if [ -f "${ICON_SOURCE_PATH_PRIMARY}" ]; then
            cp "${ICON_SOURCE_PATH_PRIMARY}" "${ICON_DEST_PATH}"
            echo "Ð˜ÐºÐ¾Ð½ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð¸Ð· ${ICON_SOURCE_PATH_PRIMARY} Ð² ${ICON_DEST_PATH}"
          elif [ -f "${ICON_SOURCE_PATH_ALTERNATIVE}" ]; then
            cp "${ICON_SOURCE_PATH_ALTERNATIVE}" "${ICON_DEST_PATH}"
            echo "Ð˜ÐºÐ¾Ð½ÐºÐ° ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð¸Ð· ${ICON_SOURCE_PATH_ALTERNATIVE} Ð² ${ICON_DEST_PATH}"
          else
            echo "ÐŸÐ Ð•Ð”Ð£ÐŸÐ Ð•Ð–Ð”Ð•ÐÐ˜Ð•: Ð¤Ð°Ð¹Ð» Ð¸ÐºÐ¾Ð½ÐºÐ¸ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ Ð½Ð¸ Ð¿Ð¾ Ð¿ÑƒÑ‚Ð¸ '${ICON_SOURCE_PATH_PRIMARY}', Ð½Ð¸ Ð¿Ð¾ '${ICON_SOURCE_PATH_ALTERNATIVE}'."
            echo "AppImage Ð±ÑƒÐ´ÐµÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½ Ð±ÐµÐ· Ð¸ÐºÐ¾Ð½ÐºÐ¸ Ð¸Ð»Ð¸ Ñ Ð¸ÐºÐ¾Ð½ÐºÐ¾Ð¹ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¾Ñ‚ appimagetool."
            # Ð•ÑÐ»Ð¸ Ð¸ÐºÐ¾Ð½ÐºÐ° Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð° Ð´Ð»Ñ ÑÐ±Ð¾Ñ€ÐºÐ¸, Ñ€Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÑƒÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ:
            # exit 1
          fi

          # Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ AppImage
          ARCH=x86_64 ./appimagetool "${APPIMAGE_DIR}" "dist/${EXECUTABLE_NAME}-Linux-x86_64.AppImage"
          
      - name: Upload Linux Archive
        uses: actions/upload-artifact@v4
        with:
          name: linux-archive
          path: dist/GOVNO-Screamer-Linux-x64.tar.gz
          
      - name: Upload Linux AppImage
        uses: actions/upload-artifact@v4
        with:
          name: linux-appimage
          path: dist/GOVNO-Screamer-Linux-x86_64.AppImage
          
      - name: Upload Linux Deb
        uses: actions/upload-artifact@v4
        with:
          name: linux-deb
          path: dist/*.deb

  build-macos:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup JDK 21
        uses: actions/setup-java@v4
        with:
          java-version: '21'
          distribution: 'temurin'
          
      - name: Cache Maven dependencies
        uses: actions/cache@v4
        with:
          path: ~/.m2
          key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
          restore-keys: |
            ${{ runner.os }}-m2-
          
      - name: Build JAR
        run: mvn clean package -DskipTests
        
      - name: Build macOS app-image
        run: |
          jpackage --input target --dest dist --name "GOVNO-Screamer" --main-jar govnoscreamer-widget-1.0.0.jar --main-class com.dayab.widget.Launcher --type app-image --app-version 1.0.0 --vendor "rawscript" --description "GOVNO/TON Crypto Screamer Widget" --copyright "Â© 2025 rawscript" --mac-package-name "GOVNO Screamer" --java-options "-Dfile.encoding=UTF-8" --java-options "-Djava.awt.headless=false"
          
      - name: Create macOS Archive
        run: |
          cd dist
          tar -czf GOVNO-Screamer-macOS-x64.tar.gz GOVNO-Screamer.app/
        
      - name: Build macOS DMG
        run: |
          jpackage --input target --dest dist --name "GOVNO-Screamer-Installer" --main-jar govnoscreamer-widget-1.0.0.jar --main-class com.dayab.widget.Launcher --type dmg --app-version 1.0.0 --vendor "rawscript" --description "GOVNO/TON Crypto Screamer Widget" --copyright "Â© 2025 rawscript" --mac-package-name "GOVNO Screamer" --java-options "-Dfile.encoding=UTF-8" --java-options "-Djava.awt.headless=false"
          
      - name: Upload macOS Archive
        uses: actions/upload-artifact@v4
        with:
          name: macos-archive
          path: dist/GOVNO-Screamer-macOS-x64.tar.gz
          
      - name: Upload macOS DMG
        uses: actions/upload-artifact@v4
        with:
          name: macos-dmg
          path: dist/*.dmg

  release:
    needs: [build-windows, build-linux, build-macos]
    runs-on: ubuntu-latest
    if: startsWith(github.ref, 'refs/tags/')
    steps:
      - name: Download all artifacts
        uses: actions/download-artifact@v4
        with:
          merge-multiple: true
          
      - name: Create Release Notes
        run: |
          cat > release_notes.md << EOF
          # GOVNO/TON Crypto Screamer Widget - Release ${{ github.ref_name }}
          
          ## Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹Ðµ Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ Ñ„Ð°Ð¹Ð»Ñ‹:
          
          ### ðŸ–¥ï¸ Windows (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
          - **GOVNO-Screamer-Installer-${{ github.ref_name }}.msi** - MSI ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ñ‰Ð¸Ðº Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¾Ð¹
          - **GOVNO-Screamer-Windows-Portable-${{ github.ref_name }}.zip** - ÐŸÐ¾Ñ€Ñ‚Ð°Ñ‚Ð¸Ð²Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ (Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸)
          
          ### ðŸ§ Linux
          - **govno-screamer-${{ github.ref_name }}_amd64.deb** - DEB Ð¿Ð°ÐºÐµÑ‚ Ð´Ð»Ñ Debian/Ubuntu
          - **GOVNO-Screamer-Linux-x86_64-${{ github.ref_name }}.AppImage** - Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ AppImage (chmod +x Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°Ð¹)
          - **GOVNO-Screamer-Linux-x64-${{ github.ref_name }}.tar.gz** - ÐÑ€Ñ…Ð¸Ð² Ñ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¼Ð¸ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸
          
          ### ðŸŽ macOS
          - **GOVNO-Screamer-Installer-${{ github.ref_name }}.dmg** - DMG ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ñ‰Ð¸Ðº Ð´Ð»Ñ macOS
          - **GOVNO-Screamer-macOS-x64-${{ github.ref_name }}.tar.gz** - ÐÑ€Ñ…Ð¸Ð² Ñ .app Ñ„Ð°Ð¹Ð»Ð¾Ð¼
          
          ### â˜• Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ (Ð»ÑŽÐ±Ð°Ñ ÐžÐ¡ Ñ Java)
          - **GOVNO-Screamer-Universal-${{ github.ref_name }}.jar** - Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ Java 8+ (java -jar GOVNO-Screamer-Universal.jar)
          
          ## ÐšÐ°Ðº Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ:
          1. **Windows**: Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ .msi Ð¸Ð»Ð¸ Ñ€Ð°ÑÐ¿Ð°ÐºÑƒÐ¹Ñ‚Ðµ .zip
          2. **Linux**: Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ .AppImage, ÑÐ´ÐµÐ»Ð°Ð¹Ñ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¼ (chmod +x) Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ
          3. **macOS**: Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ .dmg Ð¸Ð»Ð¸ Ñ€Ð°ÑÐ¿Ð°ÐºÑƒÐ¹Ñ‚Ðµ .tar.gz
          4. **Ð›ÑŽÐ±Ð°Ñ ÐžÐ¡**: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Java Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ .jar Ñ„Ð°Ð¹Ð»
          
          ## Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸:
          - ðŸ•’ Ð ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¸ Ð´Ð°Ñ‚Ð°
          - ðŸ“Š ÐÐ½Ð¸Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð¿Ð¾Ð»Ð¾ÑÐ° Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐ°
          - ðŸŽ¨ Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½ Ñ Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð°Ð¼Ð¸
          - ðŸ“Œ Ð’ÑÐµÐ³Ð´Ð° Ð¿Ð¾Ð²ÐµÑ€Ñ… Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¾ÐºÐ¾Ð½
          - ðŸ–±ï¸ ÐŸÐµÑ€ÐµÑ‚Ð°ÑÐºÐ¸Ð²Ð°Ð½Ð¸Ðµ Ð¼Ñ‹ÑˆÑŒÑŽ
          - ðŸ’¾ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ Ñ‚Ñ€ÐµÐ¹
          - âš™ï¸ Ð˜Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸
          EOF
          
      - name: Create Release
        uses: softprops/action-gh-release@v2
        with:
          files: |
            *.msi
            *.zip
            *.tar.gz
            *.AppImage
            *.deb
            *.dmg
            *.jar
          body_path: release_notes.md
          draft: false
          prerelease: false
          make_latest: true
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}